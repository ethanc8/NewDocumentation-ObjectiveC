<!doctype html>
<html class="no-js" lang="en" data-content_root="">
  <head><meta charset="utf-8"/>
    <meta name="viewport" content="width=device-width,initial-scale=1"/>
    <meta name="color-scheme" content="light dark"><meta name="viewport" content="width=device-width, initial-scale=1" />
<link rel="index" title="Index" href="../genindex.html" /><link rel="search" title="Search" href="../search.html" />

    <!-- Generated with Sphinx 7.1.2 and Furo 2024.01.29 -->
        <title>2 The Objective-C Language - Objective-C 2.4 documentation</title>
      <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=a746c00c" />
    <link rel="stylesheet" type="text/css" href="../_static/styles/furo.css?v=135e06be" />
    <link rel="stylesheet" type="text/css" href="../_static/copybutton.css?v=76b2166b" />
    <link rel="stylesheet" type="text/css" href="../_static/design-style.1e8bd061cd6da7fc9cf755528e8ffc24.min.css?v=0a3b3ea7" />
    <link rel="stylesheet" type="text/css" href="../_static/styles/furo-extensions.css?v=36a5483c" />
    
    


<style>
  body {
    --color-code-background: #f8f8f8;
  --color-code-foreground: black;
  
  }
  @media not print {
    body[data-theme="dark"] {
      --color-code-background: #202020;
  --color-code-foreground: #d0d0d0;
  
    }
    @media (prefers-color-scheme: dark) {
      body:not([data-theme="light"]) {
        --color-code-background: #202020;
  --color-code-foreground: #d0d0d0;
  
      }
    }
  }
</style></head>
  <body>
    
    <script>
      document.body.dataset.theme = localStorage.getItem("theme") || "auto";
    </script>
    

<svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
  <symbol id="svg-toc" viewBox="0 0 24 24">
    <title>Contents</title>
    <svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 1024 1024">
      <path d="M408 442h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8zm-8 204c0 4.4 3.6 8 8 8h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56zm504-486H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0 632H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM115.4 518.9L271.7 642c5.8 4.6 14.4.5 14.4-6.9V388.9c0-7.4-8.5-11.5-14.4-6.9L115.4 505.1a8.74 8.74 0 0 0 0 13.8z"/>
    </svg>
  </symbol>
  <symbol id="svg-menu" viewBox="0 0 24 24">
    <title>Menu</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather-menu">
      <line x1="3" y1="12" x2="21" y2="12"></line>
      <line x1="3" y1="6" x2="21" y2="6"></line>
      <line x1="3" y1="18" x2="21" y2="18"></line>
    </svg>
  </symbol>
  <symbol id="svg-arrow-right" viewBox="0 0 24 24">
    <title>Expand</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather-chevron-right">
      <polyline points="9 18 15 12 9 6"></polyline>
    </svg>
  </symbol>
  <symbol id="svg-sun" viewBox="0 0 24 24">
    <title>Light mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="feather-sun">
      <circle cx="12" cy="12" r="5"></circle>
      <line x1="12" y1="1" x2="12" y2="3"></line>
      <line x1="12" y1="21" x2="12" y2="23"></line>
      <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
      <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
      <line x1="1" y1="12" x2="3" y2="12"></line>
      <line x1="21" y1="12" x2="23" y2="12"></line>
      <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
      <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
    </svg>
  </symbol>
  <symbol id="svg-moon" viewBox="0 0 24 24">
    <title>Dark mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-moon">
      <path stroke="none" d="M0 0h24v24H0z" fill="none" />
      <path d="M12 3c.132 0 .263 0 .393 0a7.5 7.5 0 0 0 7.92 12.446a9 9 0 1 1 -8.313 -12.454z" />
    </svg>
  </symbol>
  <symbol id="svg-sun-half" viewBox="0 0 24 24">
    <title>Auto light/dark mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-shadow">
      <path stroke="none" d="M0 0h24v24H0z" fill="none"/>
      <circle cx="12" cy="12" r="9" />
      <path d="M13 12h5" />
      <path d="M13 15h4" />
      <path d="M13 18h1" />
      <path d="M13 9h4" />
      <path d="M13 6h1" />
    </svg>
  </symbol>
</svg>

<input type="checkbox" class="sidebar-toggle" name="__navigation" id="__navigation">
<input type="checkbox" class="sidebar-toggle" name="__toc" id="__toc">
<label class="overlay sidebar-overlay" for="__navigation">
  <div class="visually-hidden">Hide navigation sidebar</div>
</label>
<label class="overlay toc-overlay" for="__toc">
  <div class="visually-hidden">Hide table of contents sidebar</div>
</label>



<div class="page">
  <header class="mobile-header">
    <div class="header-left">
      <label class="nav-overlay-icon" for="__navigation">
        <div class="visually-hidden">Toggle site navigation sidebar</div>
        <i class="icon"><svg><use href="#svg-menu"></use></svg></i>
      </label>
    </div>
    <div class="header-center">
      <a href="../index.html"><div class="brand">Objective-C 2.4 documentation</div></a>
    </div>
    <div class="header-right">
      <div class="theme-toggle-container theme-toggle-header">
        <button class="theme-toggle">
          <div class="visually-hidden">Toggle Light / Dark / Auto color theme</div>
          <svg class="theme-icon-when-auto"><use href="#svg-sun-half"></use></svg>
          <svg class="theme-icon-when-dark"><use href="#svg-moon"></use></svg>
          <svg class="theme-icon-when-light"><use href="#svg-sun"></use></svg>
        </button>
      </div>
      <label class="toc-overlay-icon toc-header-icon" for="__toc">
        <div class="visually-hidden">Toggle table of contents sidebar</div>
        <i class="icon"><svg><use href="#svg-toc"></use></svg></i>
      </label>
    </div>
  </header>
  <aside class="sidebar-drawer">
    <div class="sidebar-container">
      
      <div class="sidebar-sticky"><a class="sidebar-brand" href="../index.html">
  
  
  <span class="sidebar-brand-text">Objective-C 2.4 documentation</span>
  
</a><form class="sidebar-search-container" method="get" action="../search.html" role="search">
  <input class="sidebar-search" placeholder="Search" name="q" aria-label="Search">
  <input type="hidden" name="check_keywords" value="yes">
  <input type="hidden" name="area" value="default">
</form>
<div id="searchbox"></div><div class="sidebar-scroll"><div class="sidebar-tree">
  <p class="caption" role="heading"><span class="caption-text">Contents</span></p>
<ul>
<li class="toctree-l1 has-children"><a class="reference internal" href="../Reference/index.html">Objective-C Language Reference</a><input class="toctree-checkbox" id="toctree-checkbox-1" name="toctree-checkbox-1" role="switch" type="checkbox"/><label for="toctree-checkbox-1"><div class="visually-hidden">Toggle navigation of Objective-C Language Reference</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../Reference/Attributes.html">Attributes</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Reference/BasicTypes.html">Basic Types</a></li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../Reference/NS_ENUM/index.html"><code class="docutils literal notranslate"><span class="pre">NS_ENUM</span></code> macros</a><input class="toctree-checkbox" id="toctree-checkbox-2" name="toctree-checkbox-2" role="switch" type="checkbox"/><label for="toctree-checkbox-2"><div class="visually-hidden">Toggle navigation of NS_ENUM macros</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../Reference/NS_ENUM/NS_CLOSED_ENUM.html"><code class="docutils literal notranslate"><span class="pre">NS_CLOSED_ENUM</span></code> / <code class="docutils literal notranslate"><span class="pre">CF_CLOSED_ENUM</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../Reference/NS_ENUM/NS_ENUM.html"><code class="docutils literal notranslate"><span class="pre">NS_ENUM</span></code> / <code class="docutils literal notranslate"><span class="pre">CF_ENUM</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../Reference/NS_ENUM/NS_ERROR_ENUM.html"><code class="docutils literal notranslate"><span class="pre">NS_ERROR_ENUM</span></code> / <code class="docutils literal notranslate"><span class="pre">CF_ERROR_ENUM</span></code></a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../Reference/Classes.html">Classes</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Reference/LightweightGenerics.html">Lightweight Generics</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Reference/Exceptions.html">Exceptions</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Reference/FastEnumeration.html">Fast enumeration</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Reference/StringLiterals.html">String literals</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Reference/DynamicLiterals.html">Dynamic literals</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Reference/TraditionalMessageForwarding.html">Traditional Message Forwarding</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Reference/Modules.html">Modules</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Reference/EnvInformation.html">Getting Environment Information</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Reference/Versions.html">Language Versions</a></li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="index.html">Manual</a><input class="toctree-checkbox" id="toctree-checkbox-3" name="toctree-checkbox-3" role="switch" type="checkbox"/><label for="toctree-checkbox-3"><div class="visually-hidden">Toggle navigation of Manual</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="Introduction.html">Introduction</a></li>
<li class="toctree-l2"><a class="reference internal" href="Objects.html">2.2 Objects</a></li>
<li class="toctree-l2"><a class="reference internal" href="Classes.html">Classes</a></li>
</ul>
</li>
</ul>

</div>
</div>

      </div>
      
    </div>
  </aside>
  <div class="main">
    <div class="content">
      <div class="article-container">
        <a href="#" class="back-to-top muted-link">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
            <path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12z"></path>
          </svg>
          <span>Back to top</span>
        </a>
        <div class="content-icon-container">
          
<div class="theme-toggle-container theme-toggle-content">
            <button class="theme-toggle">
              <div class="visually-hidden">Toggle Light / Dark / Auto color theme</div>
              <svg class="theme-icon-when-auto"><use href="#svg-sun-half"></use></svg>
              <svg class="theme-icon-when-dark"><use href="#svg-moon"></use></svg>
              <svg class="theme-icon-when-light"><use href="#svg-sun"></use></svg>
            </button>
          </div>
          <label class="toc-overlay-icon toc-content-icon" for="__toc">
            <div class="visually-hidden">Toggle table of contents sidebar</div>
            <i class="icon"><svg><use href="#svg-toc"></use></svg></i>
          </label>
        </div>
        <article role="main">
          <p><span id="Objective_002dC"></span></p>
<p>Next: <a class="reference internal" href="#Objects.html"><span class="xref myst">Objects</span></a>, Previous: <a class="reference internal" href="#Introduction.html"><span class="xref myst">Introduction</span></a>, Up: <a class="reference internal" href="#index.html"><span class="xref myst">Top</span></a>   [<a class="reference internal" href="#index.html#SEC_Contents"><span class="xref myst">Contents</span></a>][<a class="reference internal" href="#Make.html"><span class="xref myst">Index</span></a>]</p>
<p><span id="The-Objective_002dC-Language"></span></p>
<section id="the-objective-c-language">
<h1>2 The Objective-C Language<a class="headerlink" href="#the-objective-c-language" title="Permalink to this heading">#</a></h1>
<p>In the previous chapter you were introduced to some basic object-oriented programming terms. This chapter will expand on these terms, and introduce you to some new ones, while concentrating on how they apply to the Objective-C language and the GNUstep base library. First let us look at some non OO additions that Objective-C makes to ANSI C.</p>
<p><span id="Non-OO-Additions"></span></p>
<section id="non-oo-additions">
<h2>2.1 Non OO Additions<a class="headerlink" href="#non-oo-additions" title="Permalink to this heading">#</a></h2>
<p>Objective-C makes a few non OO additions to the syntax of the C programming language that include:</p>
<ul class="simple">
<li><p>A boolean data type (<code class="docutils literal notranslate"><span class="pre">BOOL</span></code>) capable of storing either of the values <code class="docutils literal notranslate"><span class="pre">YES</span></code> or <code class="docutils literal notranslate"><span class="pre">NO</span></code>.<br />
A <code class="docutils literal notranslate"><span class="pre">BOOL</span></code> is a scalar value and can be used like the familiar <code class="docutils literal notranslate"><span class="pre">int</span></code> and <code class="docutils literal notranslate"><span class="pre">char</span></code> data types.<br />
A <code class="docutils literal notranslate"><span class="pre">BOOL</span></code> value of <code class="docutils literal notranslate"><span class="pre">NO</span></code> is zero, while <code class="docutils literal notranslate"><span class="pre">YES</span></code> is non-zero.</p></li>
<li><p>The use of a pair of slashes (<code class="docutils literal notranslate"><span class="pre">//</span></code>) to mark text up to the end of the line as a comment.</p></li>
<li><p>The <code class="docutils literal notranslate"><span class="pre">#import</span></code> preprocessor directive was added; it directs the compiler to include a file only if it has not previously been included for the current compilation. This directive should only be used for Objective-C headers and not ordinary C headers, since the latter may actually rely on being included more than once in certain cases to support their functionality.</p></li>
</ul>
<p><span id="Objects-1"></span></p>
</section>
<section id="objects">
<h2>2.2 Objects<a class="headerlink" href="#objects" title="Permalink to this heading">#</a></h2>
<p><span id="index-objects"></span></p>
<p>Object-oriented (OO) programming is based on the notion that a software system can be composed of objects that interact with each other in a manner that parallels the interaction of objects in the physical world.</p>
<p>This model makes it easier for the programmer to understand how software works since it makes programming more intuitive. The use of objects also makes it easier during program design: take a big problem and consider it in small pieces, the individual objects, and how they relate to each other.</p>
<p>Objects are like mini programs that can function on their own when requested by the program or even another object. An object can receive messages and then act on these messages to alter the state of itself (the size and position of a rectangle object in a drawing program for example).</p>
<p>In software an object consists of instance variables (data) that represent the state of the object, and methods (like C functions) that act on these variables in response to messages.</p>
<p>As a programmer creating an application or tool, all you need do is send messages to the appropriate objects rather than call functions that manipulate data as you would with a procedural program.</p>
<p>The syntax for sending a message to an object, as shown below, is one of the additions that Objective-C adds to ANSI C.</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>[objectName message]; 
</pre></div>
</div>
<p>Note the use of the square [ ] brackets surrounding the name of the object and message.</p>
<p>Rather than ’calling’ one of its methods, an object is said to ’perform’ one of its methods in response to a message. The format that a message can take is discussed later in this section.</p>
<p><span id="Id-and-nil"></span></p>
<section id="id-and-nil">
<h3>2.2.1 Id and nil<a class="headerlink" href="#id-and-nil" title="Permalink to this heading">#</a></h3>
<p>Objective-C defines a new type to identify an object: <code class="docutils literal notranslate"><span class="pre">id</span></code>, a type that points to an object’s data (its instance variables). The following code declares the variable ’<code class="docutils literal notranslate"><span class="pre">button</span></code>’ as an object (as opposed to ’<code class="docutils literal notranslate"><span class="pre">button</span></code>’ being declared an integer, character or some other data type).</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>id button;
</pre></div>
</div>
<p>When the button object is eventually created the variable name ’<code class="docutils literal notranslate"><span class="pre">button</span></code>’ will point to the object’s data, but before it is created the variable could be assigned a special value to indicate to other code that the object does not yet exist.</p>
<p>Objective-C defines a new keyword <code class="docutils literal notranslate"><span class="pre">nil</span></code> for this assignment, where <code class="docutils literal notranslate"><span class="pre">nil</span></code> is of type <code class="docutils literal notranslate"><span class="pre">id</span></code> with an unassigned value. In the button example, the assignment could look like this:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>id button = nil;
</pre></div>
</div>
<p>which assigns <code class="docutils literal notranslate"><span class="pre">nil</span></code> in the declaration of the variable.</p>
<p>You can then test the value of an object to determine whether the object exists, perhaps before sending the object a message. If the test fails, then the object does not exist and your code can execute an alternative statement.</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>if (anObject != nil)
  ... /* send message */
else
  ... /* do something else */
</pre></div>
</div>
<p>The header file <code class="docutils literal notranslate"><span class="pre">objc/objc.h</span></code> defines <code class="docutils literal notranslate"><span class="pre">id</span></code>, <code class="docutils literal notranslate"><span class="pre">nil</span></code>, and other basic types of the Objective-C language. It is automatically included in your source code when you use the compiler directive <code class="docutils literal notranslate"><span class="pre">#include</span> <span class="pre">&lt;Foundation/Foundation.h&gt;</span></code> to include the GNUstep Base class definitions.</p>
<p><span id="Messages"></span></p>
</section>
<section id="messages">
<h3>2.2.2 Messages<a class="headerlink" href="#messages" title="Permalink to this heading">#</a></h3>
<p><span id="index-messages"></span></p>
<p>A message in Objective-C is the mechanism by which you pass instructions to objects. You may tell the object to do something for you, tell it to change its internal state, or ask it for information.</p>
<p>A message usually invokes a method, causing the receiving object to respond in some way. Objects and data are manipulated by sending messages to them. Like C-functions they have return types, but function specific to the object.</p>
<p>Objects respond to messages that make specific requests. Message expressions are enclosed in square brackets and include the receiver or object name and the message or method name along with any arguments.</p>
<p>To send a message to an object, use the syntax:</p>
<p><code class="docutils literal notranslate"><span class="pre">[receiver</span> <span class="pre">messagename];</span></code></p>
<p>where <code class="docutils literal notranslate"><span class="pre">receiver</span></code> is the object.</p>
<p>The run-time system invokes object methods that are specified by messages. For example, to invoke the display method of the mySquare object the following message is used:</p>
<p><code class="docutils literal notranslate"><span class="pre">[mySquare</span> <span class="pre">display];</span></code></p>
<p>Messages may include arguments that are prefixed by colons, in which case the colons are part of the message name, so the following message is used to invoke the <code class="docutils literal notranslate"><span class="pre">setFrameOrigin::</span></code> method:</p>
<p><code class="docutils literal notranslate"><span class="pre">[button</span> <span class="pre">setFrameOrigin:</span> <span class="pre">10.0</span> <span class="pre">:</span> <span class="pre">10.0];</span></code></p>
<p>Labels describing arguments precede colons:</p>
<p><code class="docutils literal notranslate"><span class="pre">[button</span> <span class="pre">setWidth:</span> <span class="pre">20.0</span> <span class="pre">height:</span> <span class="pre">122.0];</span></code></p>
<p>invokes the method named <code class="docutils literal notranslate"><span class="pre">setWidth:height:</span></code></p>
<p>Messages that take a variable number of arguments are of the form:</p>
<p><code class="docutils literal notranslate"><span class="pre">[receiver</span> <span class="pre">makeList:</span> <span class="pre">list,</span> <span class="pre">argOne,</span> <span class="pre">argTwo,</span> <span class="pre">argThree];</span></code></p>
<p>A message to <code class="docutils literal notranslate"><span class="pre">nil</span></code> does NOT crash the application (while in Java messages to <code class="docutils literal notranslate"><span class="pre">null</span></code> raise exceptions); the Objective-C application does nothing.</p>
<p>For example:</p>
<p><code class="docutils literal notranslate"><span class="pre">[nil</span> <span class="pre">display];</span></code></p>
<p>will do nothing.</p>
<p>If a message to <code class="docutils literal notranslate"><span class="pre">nil</span></code> is supposed to return an object, it will return <code class="docutils literal notranslate"><span class="pre">nil</span></code>. But if the method is supposed to return a primitive type such as an <code class="docutils literal notranslate"><span class="pre">int</span></code>, then the return value of that method when invoked on <code class="docutils literal notranslate"><span class="pre">nil</span></code>, is undefined. The programmer therefore needs to avoid using the return value in this instance.</p>
<p><span id="Polymorphism"></span></p>
</section>
<section id="polymorphism">
<h3>2.2.3 Polymorphism<a class="headerlink" href="#polymorphism" title="Permalink to this heading">#</a></h3>
<p><span id="index-polymorphism"></span></p>
<p>Polymorphism refers to the fact that two different objects may respond differently to the same message. For example when client objects receive an alike message from a server object, they may respond differently. Using Dynamic Binding, the run-time system determines which code to execute according to the object type.</p>
<p><span id="Classes-1"></span></p>
</section>
</section>
<section id="classes">
<h2>2.3 Classes<a class="headerlink" href="#classes" title="Permalink to this heading">#</a></h2>
<p><span id="index-classes"></span></p>
<p>A <strong>class</strong> in Objective-C is a <em>type of object</em>, much like a structure definition in C except that in addition to variables, a class has code – method implementations – associated with it. When you create an <em>instance</em> of a class, also known as an <em>object</em>, memory for each of its variables is allocated, including a pointer to the class definition itself, which tells the Objective-C runtime where to find the method code, among other things. Whenever an object is sent a message, the runtime finds this code and executes it, using the variable values that are set for this object.</p>
<p><span id="Inheritance"></span></p>
<section id="inheritance">
<h3>2.3.1 Inheritance<a class="headerlink" href="#inheritance" title="Permalink to this heading">#</a></h3>
<p><span id="index-inheritance"></span></p>
<p>Most of the programmer’s time is spent defining classes. Inheritance helps reduce coding time by providing a convenient way of reusing code. For example, the <code class="docutils literal notranslate"><span class="pre">NSButton</span></code> class defines data (or instance variables) and methods to create button objects of a certain type, so a subclass of <code class="docutils literal notranslate"><span class="pre">NSButton</span></code> could be produced to create buttons of another type - which may perhaps have a different border colour. Equally <code class="docutils literal notranslate"><span class="pre">NSTextField</span></code> can be used to define a subclass that perhaps draws a different border, by reusing definitions and data in the superclass.</p>
<p>Inheritance places all classes in a logical hierarchy or tree structure that may have the <code class="docutils literal notranslate"><span class="pre">NSObject</span></code> class at its root. (The root object may be changed by the developer; in GNUstep it is <code class="docutils literal notranslate"><span class="pre">NSObject</span></code>, but in “plain” Objective-C it is a class called “<code class="docutils literal notranslate"><span class="pre">Object</span></code>” supplied with the runtime.) All classes may have subclasses, and all except the root class do have superclasses. When a class object creates a new instance, the new object holds the data for its class, superclass, and superclasses extending to the root class (typically <code class="docutils literal notranslate"><span class="pre">NSObject</span></code>). Additional data may be added to classes so as to provide specific functions and application logic.</p>
<p>When a new object is created, it is allocated memory space and its data in the form of its instance variables are initialised. Every object has at least one instance variable (inherited from <code class="docutils literal notranslate"><span class="pre">NSObject</span></code>) called <code class="docutils literal notranslate"><span class="pre">isa</span></code>, which is initialized to refer to the object’s class. Through this reference, access is also afforded to classes in the object’s inheritance path.</p>
<p>In terms of source code, an Objective-C class definition has an:</p>
<ul class="simple">
<li><p><em>interface</em> declaring instance variables, methods and the superclass name; and an</p></li>
<li><p><em>implementation</em> that defines the class in terms of operational code that implements the methods.</p></li>
</ul>
<p>Typically these entities are confined to separate files with <code class="docutils literal notranslate"><span class="pre">.h</span></code> and <code class="docutils literal notranslate"><span class="pre">.m</span></code> extensions for Interface and Implementation files, respectively. However they may be merged into one file, and a single file may implement multiple classes.</p>
<p><span id="Inheritance-of-Methods"></span></p>
</section>
<section id="inheritance-of-methods">
<h3>2.3.2 Inheritance of Methods<a class="headerlink" href="#inheritance-of-methods" title="Permalink to this heading">#</a></h3>
<p><span id="index-inheriting-methods"></span></p>
<p>Each new class inherits methods and instance variables from another class. This results in a class hierarchy with the root class at the core, and every class (except the root) has a superclass as its parent, and all classes may have numerous subclasses as their children. Each class therefore is a refinement of its superclass(es).</p>
<p><span id="Overriding-Methods"></span></p>
</section>
<section id="overriding-methods">
<h3>2.3.3 Overriding Methods<a class="headerlink" href="#overriding-methods" title="Permalink to this heading">#</a></h3>
<p><span id="index-overriding-methods"></span></p>
<p>Objects may access methods defined for their class, superclass, superclass’ superclass, extending to the root class. Classes may be defined with methods that overwrite their namesakes in ancestor classes. These new methods are then inherited by subclasses, but other methods in the new class can locate the overridden methods. Additionally redefined methods may include overridden methods.</p>
<p><span id="Abstract-Classes"></span></p>
</section>
<section id="abstract-classes">
<h3>2.3.4 Abstract Classes<a class="headerlink" href="#abstract-classes" title="Permalink to this heading">#</a></h3>
<p><span id="index-abstract-class"></span> <span id="index-class_002c-abstract"></span></p>
<p>Abstract classes or abstract superclasses such as <code class="docutils literal notranslate"><span class="pre">NSObject</span></code> define methods and instance variables used by multiple subclasses. Their purpose is to reduce the development effort required to create subclasses and application structures. When we get technical, we make a distinction between a pure abstract class whose methods are defined but instance variables are not, and a semi-abstract class where instance variables are defined).</p>
<p>An abstract class is not expected to actually produce functional instances since crucial parts of the code are expected to be provided by subclasses. In practice, abstract classes may either stub out key methods with no-op implementations, or leave them unimplemented entirely. In the latter case, the compiler will produce a warning (but not an error).</p>
<p>Abstract classes reduce the development effort required to create subclasses and application structures.</p>
<p><span id="Class-Clusters"></span></p>
</section>
<section id="class-clusters">
<h3>2.3.5 Class Clusters<a class="headerlink" href="#class-clusters" title="Permalink to this heading">#</a></h3>
<p><span id="index-class-cluster"></span> <span id="index-cluster_002c-classes"></span></p>
<p>A class cluster is an abstract base class, and a group of private, concrete subclasses. It is used to hide implementation details from the programmer (who is only allowed to use the interface provided by the abstract class), so that the actual design can be modified (probably optimised) at a later date, without breaking any code that uses the cluster.</p>
<p>Consider a scenario where it is necessary to create a class hierarchy to define objects holding different types including <strong>chars</strong>, <strong>ints</strong>, <strong>shorts</strong>, <strong>longs</strong>, <strong>floats</strong> and <strong>doubles</strong>. Of course, different types could be defined in the same class since it is possible to <strong>cast</strong> or <strong>change</strong> them from one to the next. Their allocated storage differs, however, so it would be inefficient to bundle them in the same class and to convert them in this way.</p>
<p>The solution to this problem is to use a class cluster: define an abstract superclass that specifies and declares components for subclasses, but does not declare instance variables. Rather this declaration is left to its subclasses, which share the <strong>programmatic interface</strong> that is declared by the abstract superclass.</p>
<p>When you create an object using a cluster interface, you are given an object of another class - from a concrete class in the cluster.</p>
<p><span id="NSObject_003a-The-Root-Class"></span></p>
</section>
</section>
<section id="nsobject-the-root-class">
<h2>2.4 NSObject: The Root Class<a class="headerlink" href="#nsobject-the-root-class" title="Permalink to this heading">#</a></h2>
<p><span id="index-NSObject"></span> <span id="index-root-class"></span> <span id="index-class_002c-root"></span></p>
<p>In GNUstep, <code class="docutils literal notranslate"><span class="pre">NSObject</span></code> is a root class that provides a base implementation for all objects, their interactions, and their integration in the run-time system. <code class="docutils literal notranslate"><span class="pre">NSObject</span></code> defines the <code class="docutils literal notranslate"><span class="pre">isa</span></code> instance variable that connects every object with its class.</p>
<p>In other Objective-C environments besides GNUstep, <code class="docutils literal notranslate"><span class="pre">NSObject</span></code> will be replaced by a different class. In many cases this will be a default class provided with the Objective-C runtime. In the GNU runtime for example, the base class is called <code class="docutils literal notranslate"><span class="pre">Object</span></code>. Usually base classes define a similar set of methods to what is described here for <code class="docutils literal notranslate"><span class="pre">NSObject</span></code>, however there are variations.</p>
<p>The most basic functions associated with the <code class="docutils literal notranslate"><span class="pre">NSObject</span></code> class (and inherited by all subclasses) are the following:</p>
<ul class="simple">
<li><p>allocate instances</p></li>
<li><p>connect instances to their classes</p></li>
</ul>
<p>In addition, <code class="docutils literal notranslate"><span class="pre">NSObject</span></code> supports the following functionality:</p>
<ul class="simple">
<li><p>initialize instances</p></li>
<li><p>deallocate instances</p></li>
<li><p>compare self with another object</p></li>
<li><p>archive self</p></li>
<li><p>perform methods selected at run-time</p></li>
<li><p>provide reflective information at runtime to queries about declared methods</p></li>
<li><p>provide reflective information at runtime to queries about position in the inheritance hierarchy</p></li>
<li><p>forward messages to other objects.</p></li>
</ul>
<p><span id="The-NSObject-Protocol"></span></p>
<section id="the-nsobject-protocol">
<h3>2.4.1 The NSObject Protocol<a class="headerlink" href="#the-nsobject-protocol" title="Permalink to this heading">#</a></h3>
<p>In fact, the <code class="docutils literal notranslate"><span class="pre">NSObject</span></code> class is a bit more complicated than just described. In reality, its method declarations are split into two components: essential and ancillary. The essential methods are those that are needed by <em>any</em> root class in the GNUstep/Objective-C environment. They are declared in an “<code class="docutils literal notranslate"><span class="pre">NSObject</span></code> protocol” which should be implemented by any other root class you define (see <a class="reference internal" href="#Classes.html"><span class="xref myst">Protocols</span></a>). The ancillary methods are those specific to the <code class="docutils literal notranslate"><span class="pre">NSObject</span></code> class itself but need not be implemented by any other root class. It is not important to know which methods are of which type unless you actually intend to write an alternative root class, something that is rarely done.</p>
<p><span id="Static-Typing"></span></p>
</section>
</section>
<section id="static-typing">
<h2>2.5 Static Typing<a class="headerlink" href="#static-typing" title="Permalink to this heading">#</a></h2>
<p><span id="index-static-typing"></span></p>
<p>Recall that the <code class="docutils literal notranslate"><span class="pre">id</span></code> type may be used to refer to any class of object. While this provides for great runtime flexibility (so that, for example, a generic <code class="docutils literal notranslate"><span class="pre">List</span></code> class may contain objcts of any instance), it prevents the compiler from checking whether objects implement the messages you send them. To allow type checking to take place, Objective-C therefore also allows you to use class names as variable types in code. In the following example, type checking verifies that the <code class="docutils literal notranslate"><span class="pre">myString</span></code> object is an appropriate type.</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span> // compiler verifies, if anObject&#39;s type is known, that it is an NSString:
NSString *myString = anObject;
 // now, compiler verifies that NSString declares an int &#39;length&#39; method:
int len = [myString length];
</pre></div>
</div>
<p>Note that objects are declared as pointers, unlike when <code class="docutils literal notranslate"><span class="pre">id</span></code> is used. This is because the pointer operator is implicit for <code class="docutils literal notranslate"><span class="pre">id</span></code>. Also, when the compiler performs type checking, a subclass is always permissible where any ancestor class is expected, but not vice-versa.</p>
<p><span id="Type-Introspection"></span></p>
<section id="type-introspection">
<h3>2.5.1 Type Introspection<a class="headerlink" href="#type-introspection" title="Permalink to this heading">#</a></h3>
<p>Static typing is not always appropriate. For example, you may wish to store objects of multiple types within a list or other container structure. In these situations, you can still perform type-checking manually if you need to send an untyped object a particular message. The <code class="docutils literal notranslate"><span class="pre">isMemberOfClass:</span></code> method defined in the <code class="docutils literal notranslate"><span class="pre">NSObject</span></code> class verifies that the receiver is of a specific class:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>if ([namedObject isMemberOfClass: specificClass] == YES)
  {
    // code here
  }
</pre></div>
</div>
<p>The test will return false if the object is a member of a subclass of the specific class given - an exact match is required. If you are merely interested in whether a given object <em>descends</em> from a particular class, the <code class="docutils literal notranslate"><span class="pre">isKindOfClass:</span></code> method can be used instead:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>if ([namedObject isKindOfClass: specificClass] == YES)
  {
    // code here
  }
</pre></div>
</div>
<p>There are other ways of determining whether an object responds to a particular method, as will be discussed in <a class="reference internal" href="#Advanced-Messaging.html"><span class="xref myst">Advanced Messaging</span></a>.</p>
<p><span id="Referring-to-Instance-Variables"></span></p>
</section>
<section id="referring-to-instance-variables">
<h3>2.5.2 Referring to Instance Variables<a class="headerlink" href="#referring-to-instance-variables" title="Permalink to this heading">#</a></h3>
<p><span id="index-instance-variables_002c-referring-to"></span></p>
<p>As you will see later, classes may define some or all of their instance variables to be <em>public</em> if they wish. This means that any other object or code block can access them using the standard “<code class="docutils literal notranslate"><span class="pre">-&gt;</span></code>” structure access operator from C. For this to work, the object must be statically typed (not referred to by an <code class="docutils literal notranslate"><span class="pre">id</span></code> variable).</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>   Bar *bar = [foo getBar];
   int c = bar-&gt;value * 2;   // &#39;value&#39; is an instance variable
</pre></div>
</div>
<p>In general, direct instance variable access from outside of a class is not recommended programming practice, aside from in exceptional cases where performance is at a premium. Instead, you should define special methods called <em>accessors</em> that provide the ability to retrieve or set instance variables if necessary:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>- (int) value
{
    return value;
}

- (void) setValue: (int) newValue
{
    value = newValue;
}
</pre></div>
</div>
<p>While it is not shown here, accessors may perform arbitrary operations before returning or setting internal variable values, and there need not even be a direct correspondence between the two. Using accessor methods consistently allows this to take place when necessary for implementation reasons without external code being aware of it. This property of <em>encapsulation</em> makes large code bases easier to maintain.</p>
<p><span id="Working-with-Class-Objects"></span></p>
</section>
</section>
<section id="working-with-class-objects">
<h2>2.6 Working with Class Objects<a class="headerlink" href="#working-with-class-objects" title="Permalink to this heading">#</a></h2>
<p>Classes themselves are maintained internally as objects in their own right in Objective-C, however they do not possess the instance variables defined by the classes they represent, and they cannot be created or destroyed by user code. They do respond to class methods, as in the following:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>id result = [SomeClassName doSomething];
</pre></div>
</div>
<p>Classes respond to the class methods their class defines, as well as those defined by their superclasses. However, it is not allowed to override an inherited class method.</p>
<p>You may obtain the class object corresponding to an instance object at runtime by a method call; the class object is an instance of the “<code class="docutils literal notranslate"><span class="pre">Class</span></code>” class.</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>  // all of these assign the same value
id stringClass1 = [stringObject class];
Class stringClass2 = [stringObject class];
id stringClass3 = [NSString class];
</pre></div>
</div>
<p>Classes may also define a version number (by overriding that defined in <code class="docutils literal notranslate"><span class="pre">NSObject</span></code>):</p>
<p><code class="docutils literal notranslate"><span class="pre">int</span> <span class="pre">versionNumber</span> <span class="pre">=</span> <span class="pre">[NSString</span> <span class="pre">version];</span></code></p>
<p>This facility allows developers to access the benefits of versioning for classes if they so choose.</p>
<p><span id="Locating-Classes-Dynamically"></span></p>
<section id="locating-classes-dynamically">
<h3>2.6.1 Locating Classes Dynamically<a class="headerlink" href="#locating-classes-dynamically" title="Permalink to this heading">#</a></h3>
<p>Class names are about the only names with global visibility in Objective-C. If a class name is unknown at compilation but is available as a string at run time, the GNUstep library <code class="docutils literal notranslate"><span class="pre">NSClassFromString</span></code> function may be used to return the class object:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>if ([anObject isKindOf: NSClassFromString(&quot;SomeClassName&quot;)] == YES)
  {
    // do something ...
  }
</pre></div>
</div>
<p>The function returns <code class="docutils literal notranslate"><span class="pre">Nil</span></code> if it is passed a string holding an invalid class name. Class names, global variables and functions (but not methods) exist in the same name space, so no two of these entities may share the same name.</p>
<p><span id="Naming-Constraints-and-Conventions"></span></p>
</section>
</section>
<section id="naming-constraints-and-conventions">
<h2>2.7 Naming Constraints and Conventions<a class="headerlink" href="#naming-constraints-and-conventions" title="Permalink to this heading">#</a></h2>
<p><span id="index-naming-constraints"></span> <span id="index-naming-conventions"></span></p>
<p>The following lists the full uniqueness constraints on names in Objective-C.</p>
<ul class="simple">
<li><p>Neither gGlobal variables nor function names may share the same name as classes, because all three entities are allocated the same (global) name space.</p></li>
<li><p>A class may define methods using the same names as those held in other classes. (See <a class="reference internal" href="#Objective_002dC"><span class="xref myst">Overriding Methods</span></a> above.)</p></li>
<li><p>A class may define instance variables using the same names as those held in other classes.</p></li>
<li><p>A class category may have the same name as another class category.</p></li>
<li><p>An instance method and a class method may share the same name.</p></li>
<li><p>A protocol may have the same name as a class, category, or any other entity.</p></li>
<li><p>A method and an instance variable may share the same name.</p></li>
</ul>
<p>There are also a number of conventions used in practice. These help to make code more readable and also help avoid naming conflicts. Conventions are particularly important since Objective-C does not have any namespace partitioning facilities like Java or other languages.</p>
<ul class="simple">
<li><p>Class, category and protocol names begin with an uppercase letter.</p></li>
<li><p>Methods, instance variables, and variables holding instances begin with a lowercase letter.</p></li>
<li><p>Second and subsequent words in a name should begin with a capital letter, as in “ThisIsALongName”, not “Thisisalongname”. As can be seen, this makes long names more readable.</p></li>
<li><p>Classes intended to be used as libraries (Frameworks, in NeXTstep parlance) should utilize a unique two or three letter prefix. For example, the Foundation classes all begin with ’NS’, as in “NSArray, and classes in the OmniFoundation from Omni Group (a popular library for OpenStep) began with “OF”.</p></li>
<li><p>Classes and methods intended to be used only be the developers maintaining them should be prefixed by an underscore, as in “_SomePrivateClass” or “_somePrivateMethod”. Capitalization rules should still be followed.</p></li>
<li><p>Functions intended for global use should beging with a capital letter, and use prefixing conventions as for classes.</p></li>
</ul>
<p><span id="Strings-in-GNUstep"></span></p>
</section>
<section id="strings-in-gnustep">
<h2>2.8 Strings in GNUstep<a class="headerlink" href="#strings-in-gnustep" title="Permalink to this heading">#</a></h2>
<p>Strings in GNUstep can be handled in one of two ways. The first way is the C approach of using an array of <code class="docutils literal notranslate"><span class="pre">char</span></code>. In this case you may use the “<code class="docutils literal notranslate"><span class="pre">STR</span></code>” type defined in Objective-C in place of <code class="docutils literal notranslate"><span class="pre">char[]</span></code>.</p>
<p>The second approach is to rely on the <code class="docutils literal notranslate"><span class="pre">NSString</span></code> class and associated subclasses in the GNUstep Base library, and compiler support for them. Using this approach allows use of the methods in the <a class="reference internal" href="#../Reference/NSString.html"><span class="xref myst">NSString API</span></a>. In addition, the <code class="docutils literal notranslate"><span class="pre">NSString</span></code> class provides the means to initialize strings using printf-like formats.</p>
<p>The <code class="docutils literal notranslate"><span class="pre">NSString</span></code> class defines objects holding raw <strong>Unicode</strong> character streams or <strong>strings</strong>. Unicode is a 16-bit worldwide standard used to define character sets for all spoken languages. In GNUstep parlance the Unicode character is of type <strong>unichar</strong>.</p>
<p><span id="Creating-NSString-Static-Instances"></span></p>
<section id="creating-nsstring-static-instances">
<h3>2.8.1 Creating NSString Static Instances<a class="headerlink" href="#creating-nsstring-static-instances" title="Permalink to this heading">#</a></h3>
<p>A <strong>static</strong> instance is allocated at compile time. The creation of a static instance of <code class="docutils literal notranslate"><span class="pre">NSString</span></code> is achieved using the <code class="docutils literal notranslate"><span class="pre">&#64;&quot;...&quot;</span></code> construct and a pointer:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>NSString *w = @&quot;Brainstorm&quot;;
</pre></div>
</div>
<p>Here, <code class="docutils literal notranslate"><span class="pre">w</span></code> is a variable that refers to an <code class="docutils literal notranslate"><span class="pre">NSString</span></code> object representing the ASCII string “Brainstorm”.</p>
<p><span id="NSString-_002bstringWithFormat_003a"></span></p>
</section>
<section id="nsstring-stringwithformat">
<h3>2.8.2 NSString +stringWithFormat:<a class="headerlink" href="#nsstring-stringwithformat" title="Permalink to this heading">#</a></h3>
<p>The class method <code class="docutils literal notranslate"><span class="pre">stringWithFormat:</span></code> may also be used to create instances of <code class="docutils literal notranslate"><span class="pre">NSString</span></code>, and broadly echoes the <code class="docutils literal notranslate"><span class="pre">printf()</span></code> function in the C programming language. <code class="docutils literal notranslate"><span class="pre">stringWithFormat:</span></code> accepts a list of arguments whose processed result is placed in an <code class="docutils literal notranslate"><span class="pre">NSString</span></code> that becomes a return value as illustrated below:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>int        qos = 5;
NSString    *gprsChannel;

gprschannel = [NSString stringWithFormat: @&quot;The GPRS channel is %d&quot;, 
                qos];
</pre></div>
</div>
<p>The example will produce an <code class="docutils literal notranslate"><span class="pre">NSString</span></code> called <code class="docutils literal notranslate"><span class="pre">gprsChannel</span></code> holding the string “The GPRS channel is 5”.</p>
<p><code class="docutils literal notranslate"><span class="pre">stringWithFormat:</span></code> recognises the <code class="docutils literal notranslate"><span class="pre">%&#64;</span></code> conversion specification that is used to specify an additional <code class="docutils literal notranslate"><span class="pre">NSString</span></code>:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>NSString *one;
NSString *two;

one = @&quot;Brainstorm&quot;;
two = [NSString stringWithFormat: @&quot;Our trading name is %@&quot;, one];
</pre></div>
</div>
<p>The example assigns the variable <code class="docutils literal notranslate"><span class="pre">two</span></code> the string “Our trading name is Brainstorm.” The <code class="docutils literal notranslate"><span class="pre">%&#64;</span></code> specification can be used to output an object’s description - as returned by the <code class="docutils literal notranslate"><span class="pre">NSObject</span></code> <code class="docutils literal notranslate"><span class="pre">-description</span></code> method), which is useful when debugging, as in:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>NSObject *obj = [anObject aMethod];

NSLog (@&quot;The method returned: %@&quot;, obj);
</pre></div>
</div>
<p><span id="C-String-Conversion"></span></p>
</section>
<section id="c-string-conversion">
<h3>2.8.3 C String Conversion<a class="headerlink" href="#c-string-conversion" title="Permalink to this heading">#</a></h3>
<p>When a program needs to call a C library function it is useful to convert between <code class="docutils literal notranslate"><span class="pre">NSString</span></code>s and standard ASCII C strings (not fixed at compile time). To create an <code class="docutils literal notranslate"><span class="pre">NSString</span></code> using the contents of the returned C string (from the above example), use the <code class="docutils literal notranslate"><span class="pre">NSString</span></code> class method <code class="docutils literal notranslate"><span class="pre">stringWithCString:</span></code>:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>char *function (void);

char *result;
NSString *string;

result = function ();
string = [NSString stringWithCString: result];
</pre></div>
</div>
<p>To convert an <code class="docutils literal notranslate"><span class="pre">NSString</span></code> to a standard C ASCII string, use the <code class="docutils literal notranslate"><span class="pre">cString</span></code> method of the <code class="docutils literal notranslate"><span class="pre">NSString</span></code> class:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>char       *result;
NSString    *string;

string = @&quot;Hi!&quot;;
result = [string cString];
</pre></div>
</div>
<p><span id="NSMutableString"></span></p>
</section>
<section id="nsmutablestring">
<h3>2.8.4 NSMutableString<a class="headerlink" href="#nsmutablestring" title="Permalink to this heading">#</a></h3>
<p><code class="docutils literal notranslate"><span class="pre">NSString</span></code>s are immutable objects; meaning that once they are created, they cannot be modified. This results in optimised <code class="docutils literal notranslate"><span class="pre">NSString</span></code> code. To modify a string, use the subclass of <code class="docutils literal notranslate"><span class="pre">NSString</span></code>, called <code class="docutils literal notranslate"><span class="pre">NSMutableString</span></code>. Use a <code class="docutils literal notranslate"><span class="pre">NSMutableString</span></code> wherever a <code class="docutils literal notranslate"><span class="pre">NSString</span></code> could be used.</p>
<p>An <code class="docutils literal notranslate"><span class="pre">NSMutableString</span></code> responds to methods that modify the string directly - which is not possible with a generic <code class="docutils literal notranslate"><span class="pre">NSString</span></code>. To create a <code class="docutils literal notranslate"><span class="pre">NSMutableString</span></code>use <code class="docutils literal notranslate"><span class="pre">stringWithFormat:</span></code>:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>NSString *name = @&quot;Brainstorm&quot;;
NSMutableString *str;
str = [NSMutableString stringWithFormat: @&quot;Hi!, %@&quot;, name];
</pre></div>
</div>
<p>While <code class="docutils literal notranslate"><span class="pre">NSString</span></code>’s implementation of <code class="docutils literal notranslate"><span class="pre">stringWithFormat:</span></code> returns a <code class="docutils literal notranslate"><span class="pre">NSString</span></code>, <code class="docutils literal notranslate"><span class="pre">NSMutableString</span></code>’s implementation returns an <code class="docutils literal notranslate"><span class="pre">NSMutableString</span></code>.</p>
<p><strong>Note. Static strings created with the <code class="docutils literal notranslate"><span class="pre">&#64;&quot;...&quot;</span></code> construct are always immutable.</strong></p>
<p><code class="docutils literal notranslate"><span class="pre">NSMutableString</span></code>s are rarely used because to modify a string, you normally create a new string derived from an existing one.</p>
<p>A useful method of the <code class="docutils literal notranslate"><span class="pre">NSMutableString</span></code> class is <code class="docutils literal notranslate"><span class="pre">appendString:</span></code>, which takes an <code class="docutils literal notranslate"><span class="pre">NSString</span></code> argument, and appends it to the receiver:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>NSString   *name = @&quot;Brainstorm&quot;;
NSString    *greeting = @&quot;Hello&quot;;
NSMutableString *s;

s = AUTORELEASE ([NSMutableString new]);
[s appendString: greeting];
[s appendString: @&quot;, &quot;];
[s appendString: name];
</pre></div>
</div>
<p>This code produces the same result as:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>NSString *name = @&quot;Brainstorm&quot;;
NSString *greeting = @&quot;Hello&quot;;
NSMutableString *s;

s = [NSMutableString stringWithFormat: @&quot;%@, %@&quot;, greeting, name];
</pre></div>
</div>
<p><span id="Loading-and-Saving-Strings"></span></p>
</section>
<section id="loading-and-saving-strings">
<h3>2.8.5 Loading and Saving Strings<a class="headerlink" href="#loading-and-saving-strings" title="Permalink to this heading">#</a></h3>
<p>The the GNUstep Base library has numerous string manipulation features, and among the most notable are those relating to writing/reading strings to/from files. To write the contents of a string to a file, use the <code class="docutils literal notranslate"><span class="pre">writeToFile:atomically:</span></code> method:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>#include &lt;Foundation/Foundation.h&gt;

int
main (void)
{
  CREATE_AUTORELEASE_POOL(pool);
  NSString *name = @&quot;This string was created by GNUstep&quot;;

  if ([name writeToFile: @&quot;/home/nico/testing&quot; atomically: YES])
    {
      NSLog (@&quot;Success&quot;);
    }
  else 
    {
      NSLog (@&quot;Failure&quot;);
    }
  RELEASE(pool);
  return 0;
}
</pre></div>
</div>
<p><code class="docutils literal notranslate"><span class="pre">writeToFile:atomically:</span></code> returns YES for success, and NO for failure. If the atomically flag is YES, then the library first writes the string into a file with a temporary name, and, when the writing has been successfully done, renames the file to the specified filename. This prevents erasing the previous version of filename unless writing has been successful. This is a useful feature, which should be enabled.</p>
<p>To read the contents of a file into a string, use <code class="docutils literal notranslate"><span class="pre">stringWithContentsOfFile:</span></code>, as shown in the following example that reads <code class="docutils literal notranslate"><span class="pre">&#64;&quot;/home/Brainstorm/test&quot;</span></code>:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>#include &lt;Foundation/Foundation.h&gt;

int
main (void)
{
  CREATE_AUTORELEASE_POOL(pool);
  NSString *string;
  NSString *filename = @&quot;/home/nico/test&quot;;

  string = [NSString stringWithContentsOfFile: filename];
  if (string == nil)
    {
      NSLog (@&quot;Problem reading file %@&quot;, filename);
      /*
       * &lt;missing code: do something to manage the error...&gt;
       * &lt;exit perhaps ?&gt;
       */
    }

  /*
   * &lt;missing code: do something with string...&gt;
   */

  RELEASE(pool);
  return 0;
}
</pre></div>
</div>
<hr class="docutils" />
<p>Next: <a class="reference internal" href="#Objects.html"><span class="xref myst">Objects</span></a>, Previous: <a class="reference internal" href="#Introduction.html"><span class="xref myst">Introduction</span></a>, Up: <a class="reference internal" href="#index.html"><span class="xref myst">Top</span></a>   [<a class="reference internal" href="#index.html#SEC_Contents"><span class="xref myst">Contents</span></a>][<a class="reference internal" href="#Make.html"><span class="xref myst">Index</span></a>]</p>
</section>
</section>
</section>

        </article>
      </div>
      <footer>
        
        <div class="related-pages">
          
          
        </div>
        <div class="bottom-of-page">
          <div class="left-details">
            <div class="copyright">
                Copyright &#169; 2022, Ethan C, GNUstep contributors, (for encumbered documentation) Apple, NeXT
            </div>
            Made with <a href="https://www.sphinx-doc.org/">Sphinx</a> and <a class="muted-link" href="https://pradyunsg.me">@pradyunsg</a>'s
            
            <a href="https://github.com/pradyunsg/furo">Furo</a>
            
          </div>
          <div class="right-details">
            
          </div>
        </div>
        
      </footer>
    </div>
    <aside class="toc-drawer">
      
      
      <div class="toc-sticky toc-scroll">
        <div class="toc-title-container">
          <span class="toc-title">
            On this page
          </span>
        </div>
        <div class="toc-tree-container">
          <div class="toc-tree">
            <ul>
<li><a class="reference internal" href="#">2 The Objective-C Language</a><ul>
<li><a class="reference internal" href="#non-oo-additions">2.1 Non OO Additions</a></li>
<li><a class="reference internal" href="#objects">2.2 Objects</a><ul>
<li><a class="reference internal" href="#id-and-nil">2.2.1 Id and nil</a></li>
<li><a class="reference internal" href="#messages">2.2.2 Messages</a></li>
<li><a class="reference internal" href="#polymorphism">2.2.3 Polymorphism</a></li>
</ul>
</li>
<li><a class="reference internal" href="#classes">2.3 Classes</a><ul>
<li><a class="reference internal" href="#inheritance">2.3.1 Inheritance</a></li>
<li><a class="reference internal" href="#inheritance-of-methods">2.3.2 Inheritance of Methods</a></li>
<li><a class="reference internal" href="#overriding-methods">2.3.3 Overriding Methods</a></li>
<li><a class="reference internal" href="#abstract-classes">2.3.4 Abstract Classes</a></li>
<li><a class="reference internal" href="#class-clusters">2.3.5 Class Clusters</a></li>
</ul>
</li>
<li><a class="reference internal" href="#nsobject-the-root-class">2.4 NSObject: The Root Class</a><ul>
<li><a class="reference internal" href="#the-nsobject-protocol">2.4.1 The NSObject Protocol</a></li>
</ul>
</li>
<li><a class="reference internal" href="#static-typing">2.5 Static Typing</a><ul>
<li><a class="reference internal" href="#type-introspection">2.5.1 Type Introspection</a></li>
<li><a class="reference internal" href="#referring-to-instance-variables">2.5.2 Referring to Instance Variables</a></li>
</ul>
</li>
<li><a class="reference internal" href="#working-with-class-objects">2.6 Working with Class Objects</a><ul>
<li><a class="reference internal" href="#locating-classes-dynamically">2.6.1 Locating Classes Dynamically</a></li>
</ul>
</li>
<li><a class="reference internal" href="#naming-constraints-and-conventions">2.7 Naming Constraints and Conventions</a></li>
<li><a class="reference internal" href="#strings-in-gnustep">2.8 Strings in GNUstep</a><ul>
<li><a class="reference internal" href="#creating-nsstring-static-instances">2.8.1 Creating NSString Static Instances</a></li>
<li><a class="reference internal" href="#nsstring-stringwithformat">2.8.2 NSString +stringWithFormat:</a></li>
<li><a class="reference internal" href="#c-string-conversion">2.8.3 C String Conversion</a></li>
<li><a class="reference internal" href="#nsmutablestring">2.8.4 NSMutableString</a></li>
<li><a class="reference internal" href="#loading-and-saving-strings">2.8.5 Loading and Saving Strings</a></li>
</ul>
</li>
</ul>
</li>
</ul>

          </div>
        </div>
      </div>
      
      
    </aside>
  </div>
</div><script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js?v=5b92e3a5"></script>
    <script src="../_static/doctools.js?v=888ff710"></script>
    <script src="../_static/sphinx_highlight.js?v=4825356b"></script>
    <script src="../_static/scripts/furo.js?v=32e29ea5"></script>
    <script src="../_static/clipboard.min.js?v=a7894cd8"></script>
    <script src="../_static/copybutton.js?v=f281be69"></script>
    <script src="../_static/design-tabs.js?v=36754332"></script>
    </body>
</html>